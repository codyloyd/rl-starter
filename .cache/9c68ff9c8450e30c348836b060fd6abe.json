{"dependencies":[{"name":"/Users/cloyd/coderrr/rl-starter/.babelrc","includedInParent":true,"mtime":1518898518000},{"name":"/Users/cloyd/coderrr/rl-starter/package.json","includedInParent":true,"mtime":1518898518000},{"name":"./dungeonMap","loc":{"line":1,"column":23}},{"name":"./entity/entity","loc":{"line":2,"column":19}},{"name":"./item/items","loc":{"line":3,"column":49}},{"name":"./entity/entities","loc":{"line":4,"column":48}},{"name":"./tile","loc":{"line":5,"column":36}}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var t=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),e=require(\"./dungeonMap\"),i=h(e),n=require(\"./entity/entity\"),o=h(n),s=require(\"./item/items\"),a=require(\"./entity/entities\"),r=require(\"./tile\");function h(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var d=function(){function e(t){u(this,e),this.game=t,this.width=this.game.getScreenWidth(),this.height=1.5*this.game.getScreenHeight(),this.entities={},this.map=new i.default({width:this.width,height:this.height}),this.exploredTiles={},this.items={};for(var n=0;n<10;n++)this.addEntityAtRandomPosition(new o.default(Object.assign(a.MonsterTemplate,{level:this})));for(var r=0;r<25;r++)this.addItemAtRandomPosition(s.ItemRepository.createRandom());this.addItemAtRandomPosition(s.WeaponRepository.createRandom()),this.addItemAtRandomPosition(s.ItemRepository.create(\"Space Ship\"))}return t(e,[{key:\"getItems\",value:function(){return this.items}},{key:\"getEntities\",value:function(){return this.entities}},{key:\"getRandomFloorPosition\",value:function(){var t=Math.floor(Math.random()*this.width),e=Math.floor(Math.random()*this.height);return this.map.getTile(t,e)!==r.floorTile||this.getEntityAt(t,e)?this.getRandomFloorPosition():{x:t,y:e}}},{key:\"addItemAtRandomPosition\",value:function(t){var e=this.getRandomFloorPosition();this.addItem(t,e.x,e.y)}},{key:\"addItem\",value:function(t,e,i){this.items[e+\",\"+i]=t}},{key:\"removeItem\",value:function(t){var e=this,i=Object.keys(this.items).find(function(i){return e.items[i]==t});delete this.items[i]}},{key:\"addEntityAtRandomPosition\",value:function(t){var e=this.getRandomFloorPosition();t.setPosition(e.x,e.y),this.addEntity(t)}},{key:\"getEntityAt\",value:function(t,e){return this.entities[t+\",\"+e]}},{key:\"updateEntityPosition\",value:function(t,e,i,n){this.entities[i+\",\"+n]=this.entities[t+\",\"+e],delete this.entities[t+\",\"+e]}},{key:\"addEntity\",value:function(t){this.entities[t.getX()+\",\"+t.getY()]=t,t.hasMixin(\"Actor\")&&this.game.getScheduler().add(t,!0)}},{key:\"getMap\",value:function(){return this.map}}]),e}();exports.default=d;"},"hash":"da0bb79f625377dd46a6f279bf6eba7a","cacheData":{"env":{}}}